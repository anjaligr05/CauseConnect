<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Don8</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="../styles/index.css" />
  <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
    crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
</head>

<body style="background-image: url('/images/hand2.jpg'); background-size: 100% 700px;background-repeat: no-repeat">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="index.html">Don8</a>
      </div>
      <ul class="nav navbar-nav">
        <li>
          <a href="signUp.html">Sign Up Today!</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="login.html">Login</a>
        </li>
      </ul>
    </div>
  </nav>
  <!-- <h1 style="text-align: center; font-size: 48px ">Don8</h1> -->
  <div class="row">
    <div class="col-xs-12">
      <div class="col-xs-4">

      </div>
      <div class="col-xs-4">
        <img src="/images/logo.png" id="home-image">
      </div>
      <div class="col-xs-4">

      </div>
      <p style="text-align:center; margin-top: 250px; font-size: 36px;">
        <i class="logoHeader">Don8 is all about giving a hand up to those in need.</i>
      </p>
    </div>

  </div>

  <!-- <h2 style="text-align: center;">Types of Donations can include: Food, Clothing, Toiletries, Rides, Money, and Your Time</h2> -->

  <div class="home" style="margin-top: 400px">
    <div class="login-screen ">
      <div class="login-form row ">
        <div class="col-xs-4">
          <a href="donate.html">
            <button class="btn btn-success">
              I want to donate
            </button>
          </a>
        </div>
        <div class="col-xs-4 "></div>
        <div class="col-xs-4 ">
          <a href="request.html">
            <button class="btn btn-success">
              I have a need
            </button>
          </a>
        </div>
        <br>
      </div>
    </div>
  </div>
  <div class="gradient" style="background: linear-gradient(white, green)">
    <h2 class="accept">NOW ACCEPTING
      <!-- <span id="donationType">Food</span> -->
    </h2>
    <img src="/images/food.jpg" style="height: 280px; width: 400px; display:block;margin:20px auto;" id="donationImg" />
    <!-- <form action="/home " method="POST ">
    <div class="home ">
      <div class="login-screen ">
        <div class="login-form row ">
          <div class="col-xs-5 ">
            <input type="submit " value="I have something to donate" class="btn btn-primary ">
          </div>
          <div class="col-xs-2 "></div>
          <div class="col-xs-5 ">
            <input type="submit " value="I have a need" class="btn btn-primary ">
          </div>
          <br>
        </div>
      </div>
    </div>
  </form> -->

    <h3 style="text-align: center; color:green; font-weight: bold;  margin-top: 80px;">RECENT ACTIVITY:</h3>
    <div id="feed" style="color:green;">
      <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'All')" id="defaultOpen">All</button>
        <button class="tablinks" onclick="openTab(event, 'Food')">Food</button>
        <button class="tablinks" onclick="openTab(event, 'Items')">Items</button>
        <button class="tablinks" onclick="openTab(event, 'Rides')">Rides</button>
        <button class="tablinks" onclick="openTab(event, 'Money')">Money</button>
        <button class="tablinks" onclick="openTab(event, 'Time')">Time</button>
      </div>

      <div id="All" class="tabcontent">
        <h3>All</h3>
        <ul id="dummyData">

        </ul>
      </div>

      <div id="Food" class="tabcontent">
        <h3>Food</h3>
        <ul>
          <li>Anjali donated food to ABC Org</li>
          <li>John donated groceries to ABC Org</li>
          <li>St Anthony requested fresh fruits</li>
          <li> Sara requested dinner</li>
        </ul>

      </div>

      <div id="Items" class="tabcontent">
        <h3>Items</h3>
        <ul>
          <li>Renne donated clothes to XYZ Org</li>
          <li>James donated old laptops to ABC Org</li>
          <li>St Anthony requested volunteer time</li>
          <li> Sara requested  earphones</li>
        </ul>
      </div>

      <div id="Rides" class="tabcontent">
        <h3>Rides</h3>
        <ul>
          <li>Renne gave ride to James</li>
          <li>James requested a ride to the Bay Area</li>
        </ul>
      </div>

      <div id="Money" class="tabcontent">
        <h3>Money</h3>
        <ul>
          <li>Jackson requested money for clothes</li>
          <li>Anjali donated $100 to  GHI org</li>
        </ul>
      </div>

      <div id="Time" class="tabcontent">
        <h3>Time</h3>
        <ul>
          <li>St Anthony requested time for volunteering</li>
        </ul>
      </div>
    </div>
  </div>
  <script>
    var images = ["/images/Food-Button.jpg", "/images/clothing.jpg", "/images/rides.jpg", "/images/volunteers.jpg",
      "/images/training.jpg", "/images/money.jpg"
    ];
    var donationType = ["Food", "Items", "Rides", "Money", "Your Time"];
    var count = 0;
    setInterval(function () {
      // $("span").text(donationType[count])
      $("#donationImg").attr("src", images[count]);
      count++
      if (count >= images.length) {
        count = 0;
      }
    }, 3000)

    function openTab(evt, cityName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(cityName).style.display = "block";
      evt.currentTarget.className += " active";
    }

    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
  </script>
  <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyAs3XrxNN_-VIS3npzSrl8r198jkEPw_Aw",
      authDomain: "don8-1f38e.firebaseapp.com",
      databaseURL: "https://don8-1f38e.firebaseio.com",
      projectId: "don8-1f38e",
      storageBucket: "",
      messagingSenderId: "305536070518"
    };
    firebase.initializeApp(config);

    function writeUserData(userId, name, email, posting) {
      firebase.database().ref('users/' + userId).set({
        username: name,
        email: email,
        posting: posting
      });
    }

    // writeUserData(1, "marc", "mcop@aol.com", "donating some food to ABC org");
    // writeUserData(2, "shajia", "shajia@aol.com", "donating some clothes to ABC org");
    // writeUserData(3, "renee", "renee@aol.com", "donating money");
    // writeUserData(5, "anjali", "anjali@aol.com", "donating time to train people");

    var data = firebase.database().ref('users/');
    var data2;
    data.on('value', function (snapshot) {
      // return snapshot.val();
      // console.log(snapshot.val())
      data2 = snapshot.val()
      console.log(data2)
    });

    setTimeout(function () {
      var posts = Object.values(data2);
      console.log(posts)
      var postings = posts.map(data => {
        return data.username + " " + data.posting
      })
      postings.reverse()
      console.log(data2)
      // $("#dummyData").map(postings, function (i) {
      //   return "<li>" + postings[i] + "</li>";
      // })
      postings.forEach(post => {
        $("#dummyData").append("<li>" + post + "</li>")
      })

    }, 1000)




  </script>
</body>

</html>